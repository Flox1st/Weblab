<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ховринская Гимназия "Лампада" - Регистрация</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <!-- Шапка сайта -->
    <header class="school-header">
        <div class="header-container">
            <div class="logo-section">
                <div class="school-logo">
                    <div class="logo-placeholder">Л</div>
                </div>
                <div class="school-titles">
                    <h1 class="school-name">Ховринская Гимназия "Лампада"</h1>
                    <p class="school-motto">Знание - свет, а незнание - тьма</p>
                </div>
            </div>

            <div class="auth-section">
                <div class="login-form">
                    <input type="text" placeholder="Логин" id="loginInput">
                    <input type="password" placeholder="Пароль" id="passwordInput">
                    <button onclick="handleLogin()">Войти</button>
                </div>
                <div class="user-view" id="userView" style="display: none;">
                    <span id="userGreeting"></span>
                    <button onclick="handleLogout()">Выйти</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Основная навигация -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="/" class="nav-link">Главная</a>
            <a href="/about" class="nav-link">О гимназии</a>
            <a href="/teachers" class="nav-link">Преподаватели</a>
            <a href="/schedule" class="nav-link">Расписание</a>
            <a href="/news" class="nav-link">Новости</a>
            <a href="/students" class="nav-link">Ученикам</a>
            <a href="/parents" class="nav-link">Родителям</a>
            <a href="/contacts" class="nav-link">Контакты</a>
        </div>
    </nav>

    <!-- Основной контент - регистрация -->
    <!-- Основной контент -->
<div class="main-container">
    <!-- Боковая панель -->
    <aside class="sidebar">
        <div class="sidebar-section">
            <h3>Быстрая навигация</h3>
            <ul class="sidebar-links">
                <li><a href="/">На главную</a></li>
                <li><a href="/contacts">Контакты</a></li>
                <li><a href="/about">О гимназии</a></li>
                <li><a href="/parents">Информация для родителей</a></li>
            </ul>
        </div>

        <div class="sidebar-section">
            <h3>Полезная информация</h3>
            <div class="announcements">
                <div class="announcement-item">
                    <span class="announcement-date">Важно!</span>
                    <p>После регистрации проверьте почту для подтверждения</p>
                </div>
                <div class="announcement-item">
                    <span class="announcement-date">Поддержка</span>
                    <p>Вопросы по регистрации: support@lampada-gymnasium.ru</p>
                </div>
            </div>
        </div>
    </aside>

    <!-- Основная content area -->
    <main class="content-area">
        <!-- Контейнер регистрации -->
        <div class="registration-container">
            <div class="registration-header">
                <h1>Регистрация в системе</h1>
                <p class="registration-subtitle">Станьте частью нашей образовательной семьи</p>
            </div>

            <div class="registration-content">
                <!-- Шаги регистрации -->
                <div class="registration-steps">
                    <div class="step-item active">
                        <div class="step-circle">1</div>
                        <div class="step-label">Основные данные</div>
                    </div>
                    <div class="step-item">
                        <div class="step-circle">2</div>
                        <div class="step-label">Дополнительная информация</div>
                    </div>
                    <div class="step-item">
                        <div class="step-circle">3</div>
                        <div class="step-label">Подтверждение</div>
                    </div>
                </div>

                <!-- Форма регистрации -->
                <form id="registrationForm" class="registration-form" onsubmit="submitRegistration(event)">
                    <!-- Шаг 1: Основные данные -->
                    <div class="form-section" id="step1">
                        <h3>Основные данные</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="username">Логин <span class="required">*</span></label>
                                <input type="text" id="username" name="username" required 
                                       placeholder="Введите логин" minlength="3" maxlength="50">
                                <div class="error-message" id="usernameError"></div>
                                <div class="form-hint">От 3 до 50 символов (только буквы, цифры и подчеркивание)</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="email">Email <span class="required">*</span></label>
                                <input type="email" id="email" name="email" required 
                                       placeholder="example@email.com">
                                <div class="error-message" id="emailError"></div>
                                <div class="form-hint">На этот email придет подтверждение</div>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="password">Пароль <span class="required">*</span></label>
                                <input type="password" id="password" name="password" required 
                                       placeholder="Не менее 8 символов" minlength="8">
                                <div class="error-message" id="passwordError"></div>
                                <div class="form-hint">Минимум 8 символов, включая буквы и цифры</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="confirmPassword">Подтверждение пароля <span class="required">*</span></label>
                                <input type="password" id="confirmPassword" name="confirmPassword" required 
                                       placeholder="Повторите пароль">
                                <div class="error-message" id="confirmPasswordError"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Шаг 2: Дополнительная информация -->
                    <div class="form-section" id="step2" style="display: none;">
                        <h3>Дополнительная информация</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="fullName">ФИО <span class="required">*</span></label>
                                <input type="text" id="fullName" name="fullName" required 
                                       placeholder="Иванов Иван Иванович">
                            </div>
                            
                            <div class="form-group">
                                <label for="phone">Телефон</label>
                                <input type="tel" id="phone" name="phone" 
                                       placeholder="+7 (999) 123-45-67">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="userType">Тип пользователя <span class="required">*</span></label>
                                <select id="userType" name="userType" required>
                                    <option value="">Выберите тип</option>
                                    <option value="student">Ученик</option>
                                    <option value="parent">Родитель</option>
                                    <option value="teacher">Преподаватель</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="classGroup">Класс / Группа</label>
                                <input type="text" id="classGroup" name="classGroup" 
                                       placeholder="Например: 10А или Математика">
                            </div>
                        </div>
                    </div>

                    <!-- Шаг 3: Соглашения -->
                    <div class="form-section" id="step3" style="display: none;">
                        <h3>Соглашения и подтверждение</h3>
                        
                        <div class="form-group full-width">
                            <div class="checkbox-item">
                                <input type="checkbox" id="terms" name="terms" required>
                                <label for="terms">
                                    Я согласен с <a href="/terms" target="_blank">Пользовательским соглашением</a> 
                                    и <a href="/privacy" target="_blank">Политикой конфиденциальности</a>
                                    <span class="required">*</span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <div class="checkbox-item">
                                <input type="checkbox" id="newsletter" name="newsletter">
                                <label for="newsletter">
                                    Я хочу получать уведомления о новостях гимназии и важных событиях
                                </label>
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <p class="form-hint">
                                <strong>Важно:</strong> После регистрации вам будет необходимо подтвердить email. 
                                Проверьте папку "Спам", если письмо не пришло в течение 15 минут.
                            </p>
                        </div>
                    </div>

                    <!-- Кнопки управления -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-back" onclick="goToPreviousStep()" style="display: none;">
                            ← Назад
                        </button>
                        
                        <button type="button" class="btn btn-next" onclick="goToNextStep()">
                            Далее →
                        </button>
                        
                        <button type="submit" class="btn btn-submit" style="display: none;">
                            Зарегистрироваться
                        </button>
                    </div>
                </form>

                <!-- Результат регистрации -->
                <div class="registration-result" id="registrationResult">
                    <div class="result-icon" id="resultIcon">✓</div>
                    <h2 id="resultTitle">Регистрация успешна!</h2>
                    <p id="resultMessage">
                        Ваша учетная запись успешно создана. Проверьте вашу электронную почту 
                        для подтверждения регистрации.
                    </p>
                    <div class="form-actions">
                        <a href="/" class="btn btn-back">На главную</a>
                        <a href="/" class="btn btn-submit">Войти в систему</a>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

    <!-- Подвал -->
    <footer class="school-footer">
        <div class="footer-container">
            <div class="footer-info">
                <p>&copy; 2023 Ховринская Гимназия "Лампада". Все права защищены.</p>
                <p>Телефон: +7 (495) 123-45-67 | Email: info@lampada-gymnasium.ru</p>
            </div>
        </div>
    </footer>
    <script src="/static/auth.js"></script>
</body>
</html>