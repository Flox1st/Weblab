<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ховринская Гимназия "Лампада" - Главная</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <!-- Шапка сайта -->
    <header class="school-header">
        <div class="header-container">
            <div class="logo-section">
                <div class="school-logo">
                    <!-- Место для логотипа гимназии -->
                    <div class="logo-placeholder">Л</div>
                </div>
                <div class="school-titles">
                    <h1 class="school-name">Ховринская Гимназия "Лампада"</h1>
                    <p class="school-motto">Знание - свет, а незнание - тьма</p>
                </div>
            </div>

            <div class="auth-section">
                <div class="login-form">
                    <input type="text" placeholder="Логин" id="loginInput">
                    <input type="password" placeholder="Пароль" id="passwordInput">
                    <button onclick="handleLogin()">Войти</button>
                    <!-- Добавьте эту ссылку -->
                    <a href="/register" style="margin-top: 8px; text-align: center; display: block; color: white; font-size: 12px; text-decoration: none;">
                        Регистрация
                    </a>
                </div>
                <div class="user-view" id="userView" style="display: none;">
                    <span id="userGreeting"></span>
                    <button onclick="handleLogout()">Выйти</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Основная навигация -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-link active">Главная</a>
            <a href="about.html" class="nav-link">О гимназии</a>
            <a href="teachers.html" class="nav-link">Преподаватели</a>
            <a href="schedule.html" class="nav-link">Расписание</a>
            <a href="news.html" class="nav-link">Новости</a>
            <a href="students.html" class="nav-link">Ученикам</a>
            <a href="parents.html" class="nav-link">Родителям</a>
            <a href="contacts.html" class="nav-link">Контакты</a>
        </div>
    </nav>

     <section class="carousel-section">
        <div class="carousel-container">
            <!-- Счетчик слайдов -->
            <div class="carousel-counter">
                <span id="currentSlide">1</span> / <span id="totalSlides">5</span>
            </div>
            
            <!-- Контейнер слайдов -->
            <div class="carousel-slides" id="carouselSlides">
                <!-- Слайд 1 -->
                <div class="carousel-slide active">
                    <img src="/static/images/carousel/1st_september.jpg" alt="Гимназия Лампада" class="carousel-image">
                    <div class="carousel-caption">
                        <h3>Добро пожаловать в гимназию "Лампада"</h3>
                        <p>Современное образование с традиционными ценностями</p>
                    </div>
                </div>
                
                <!-- Слайд 2 -->
                <div class="carousel-slide">
                    <img src="/static/images/carousel/championship.jpg" alt="Учебные классы" class="carousel-image">
                    <div class="carousel-caption">
                        <h3>Спортивные мероприятия</h3>
                        <p>Разнообразный досуг</p>
                    </div>
                </div>
                
                <!-- Слайд 3 -->
                <div class="carousel-slide">
                    <img src="/static/images/carousel/new_sport.jpg" alt="Спортивные достижения" class="carousel-image">
                    <div class="carousel-caption">
                        <h3>Спортивные достижения</h3>
                        <p>Наши ученики - победители региональных и всероссийских соревнований</p>
                    </div>
                </div>
            </div> <!-- Закрывающий тег для .carousel-slides -->
            
            <!-- Кнопки навигации -->
            <button class="carousel-btn prev" onclick="prevSlide()">‹</button>
            <button class="carousel-btn next" onclick="nextSlide()">›</button>
            
            <!-- Индикаторы -->
            <div class="carousel-indicators" id="carouselIndicators">
                <!-- Индикаторы будут созданы JavaScript -->
            </div>
            
            <!-- Контролы -->
            <div class="carousel-controls">
                <button class="control-btn" id="pauseBtn" onclick="toggleAutoPlay()">⏸</button>
            </div>
        </div>
    </section>

    <!-- Основной контент -->
    <div class="main-container">
        <!-- Боковая панель -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3>Быстрый доступ</h3>
                <ul class="sidebar-links">
                    <li><a href="electronic-diary.html">Электронный дневник</a></li>
                    <li><a href="program.html">Программа</a></li>
                    <li><a href="library.html">Электронная библиотека</a></li>
                    <li><a href="events.html">Мероприятия</a></li>
                    <li><a href="products.html">Наши товары</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <h3>Объявления</h3>
                <div class="announcements">
                    <div class="announcement-item">
                        <span class="announcement-date">15.12.2023</span>
                        <p>Родительское собрание для 5-х классов</p>
                    </div>
                    <div class="announcement-item">
                        <span class="announcement-date">14.12.2023</span>
                        <p>Олимпиада по математике</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Основная content area -->
        <main class="content-area">
            <section class="welcome-section">
                <h2>Добро пожаловать в гимназию "Лампада"</h2>
                <p>Мы рады приветствовать вас на официальном сайте нашей гимназии. Здесь вы найдете всю необходимую информацию о жизни нашего учебного заведения.</p>
            </section>

            <section class="features-grid">
                <div class="feature-card">
                    <h3>Качественное образование</h3>
                    <p>Высококвалифицированные преподаватели и современные методики обучения</p>
                </div>
                <div class="feature-card">
                    <h3>Развитая инфраструктура</h3>
                    <p>Современные классы, лаборатории и спортивные залы</p>
                </div>
                <div class="feature-card">
                    <h3>Внеурочная деятельность</h3>
                    <p>Кружки, секции и творческие студии для всестороннего развития</p>
                </div>
            </section>

            <section class="news-preview">
                <h2>Последние новости</h2>
                <div class="news-grid">
                    <article class="news-item">
                        <h4>Научная конференция</h4>
                        <p>Ученики нашей гимназии заняли призовые места на городской научной конференции...</p>
                        <a href="news.html" class="read-more">Подробнее</a>
                    </article>
                    <article class="news-item">
                        <h4>Спортивные достижения</h4>
                        <p>Команда по баскетболу вышла в финал региональных соревнований...</p>
                        <a href="news.html" class="read-more">Подробнее</a>
                    </article>
                </div>
            </section>
        </main>
    </div>

    <!-- Карта и контакты -->
    <section class="map-section">
        <div class="map-container">
            <h2>Как нас найти</h2>
            <p class="address">Москва, Ховрино, ул. Фестивальная, д. 123</p>
            <div class="map-wrapper">
                <!-- Исправленная карта Яндекс -->
                <script type="text/javascript" charset="utf-8" async src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3A3f98f36f46658db31a5c44c15d5eec204f974d873a9ff17a48b34eb72a974431&amp;width=2000&amp;height=400&amp;lang=ru_RU&amp;scroll=true"></script>
            </div>
        </div>
    </section>

    <!-- Подвал -->
    <footer class="school-footer">
        <div class="footer-container">
            <div class="footer-info">
                <p>&copy; 2025 Ховринская Гимназия "Лампада". Все права защищены.</p>
                <p>Телефон: +7 (495) 123-45-67 | Email: info@lampada-gymnasium.ru</p>
            </div>
        </div>
    </footer>
<script src="/static/auth.js"></script>
<script>
// Карусель изображений
class Carousel {
    constructor() {
        this.slides = document.querySelectorAll('.carousel-slide');
        this.slidesContainer = document.getElementById('carouselSlides');
        this.indicatorsContainer = document.getElementById('carouselIndicators');
        this.currentSlide = 0;
        this.totalSlides = this.slides.length;
        this.autoPlayInterval = null;
        this.autoPlayDelay = 5000; // 5 секунд
        this.isPlaying = true;
        
        this.init();
    }
    
    init() {
        // Проверяем, есть ли слайды
        if (this.totalSlides === 0) {
            console.error('Карусель: слайды не найдены');
            return;
        }
        
        console.log('Карусель инициализирована. Слайдов:', this.totalSlides);
        
        // Создаем индикаторы
        this.createIndicators();
        
        // Обновляем счетчик
        this.updateCounter();
        
        // Запускаем автопрокрутку
        this.startAutoPlay();
        
        // Добавляем обработчики для индикаторов
        this.addIndicatorsListeners();
        
        // Добавляем обработчики клавиатуры
        this.addKeyboardListeners();
        
        // Добавляем обработчик для паузы при наведении
        this.addHoverListeners();
        
        // Показываем первый слайд
        this.showSlide(this.currentSlide);
    }
    
    createIndicators() {
        if (!this.indicatorsContainer) return;
        
        this.indicatorsContainer.innerHTML = '';
        
        for (let i = 0; i < this.totalSlides; i++) {
            const indicator = document.createElement('div');
            indicator.className = `carousel-indicator ${i === 0 ? 'active' : ''}`;
            indicator.dataset.index = i;
            this.indicatorsContainer.appendChild(indicator);
        }
    }
    
    addIndicatorsListeners() {
        const indicators = document.querySelectorAll('.carousel-indicator');
        indicators.forEach(indicator => {
            indicator.addEventListener('click', (e) => {
                const index = parseInt(e.target.dataset.index);
                this.goToSlide(index);
            });
        });
    }
    
    addKeyboardListeners() {
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                this.prevSlide();
            } else if (e.key === 'ArrowRight') {
                this.nextSlide();
            } else if (e.key === ' ') {
                e.preventDefault();
                this.toggleAutoPlay();
            }
        });
    }
    
    addHoverListeners() {
        const carousel = document.querySelector('.carousel-container');
        if (!carousel) return;
        
        carousel.addEventListener('mouseenter', () => {
            this.pauseAutoPlay();
        });
        
        carousel.addEventListener('mouseleave', () => {
            if (this.isPlaying) {
                this.startAutoPlay();
            }
        });
    }
    
    showSlide(index) {
        // Скрываем все слайды
        this.slides.forEach(slide => {
            slide.classList.remove('active');
        });
        
        // Показываем выбранный слайд
        this.slides[index].classList.add('active');
    }
    
    goToSlide(index) {
        if (index < 0 || index >= this.totalSlides) {
            console.error('Карусель: неверный индекс слайда', index);
            return;
        }
        
        console.log('Переход к слайду:', index);
        
        // Показываем слайд
        this.showSlide(index);
        
        // Обновляем текущий слайд
        this.currentSlide = index;
        
        // Обновляем индикаторы
        this.updateIndicators();
        
        // Обновляем счетчик
        this.updateCounter();
        
        // Перезапускаем автопрокрутку
        this.restartAutoPlay();
    }
    
    nextSlide() {
        let nextIndex = this.currentSlide + 1;
        if (nextIndex >= this.totalSlides) {
            nextIndex = 0; // Возвращаемся к первому слайду
        }
        this.goToSlide(nextIndex);
    }
    
    prevSlide() {
        let prevIndex = this.currentSlide - 1;
        if (prevIndex < 0) {
            prevIndex = this.totalSlides - 1; // Переходим к последнему слайду
        }
        this.goToSlide(prevIndex);
    }
    
    updateIndicators() {
        const indicators = document.querySelectorAll('.carousel-indicator');
        indicators.forEach((indicator, index) => {
            if (index === this.currentSlide) {
                indicator.classList.add('active');
            } else {
                indicator.classList.remove('active');
            }
        });
    }
    
    updateCounter() {
        const currentSlideEl = document.getElementById('currentSlide');
        const totalSlidesEl = document.getElementById('totalSlides');
        
        if (currentSlideEl) {
            currentSlideEl.textContent = this.currentSlide + 1;
        }
        
        if (totalSlidesEl) {
            totalSlidesEl.textContent = this.totalSlides;
        }
    }
    
    startAutoPlay() {
        if (this.autoPlayInterval) {
            clearInterval(this.autoPlayInterval);
        }
        
        this.autoPlayInterval = setInterval(() => {
            this.nextSlide();
        }, this.autoPlayDelay);
        
        this.isPlaying = true;
        this.updatePlayButton();
    }
    
    pauseAutoPlay() {
        if (this.autoPlayInterval) {
            clearInterval(this.autoPlayInterval);
            this.autoPlayInterval = null;
        }
        
        this.isPlaying = false;
        this.updatePlayButton();
    }
    
    restartAutoPlay() {
        this.pauseAutoPlay();
        if (this.isPlaying) {
            this.startAutoPlay();
        }
    }
    
    toggleAutoPlay() {
        if (this.isPlaying) {
            this.pauseAutoPlay();
        } else {
            this.startAutoPlay();
        }
    }
    
    updatePlayButton() {
        const pauseBtn = document.getElementById('pauseBtn');
        if (pauseBtn) {
            pauseBtn.textContent = this.isPlaying ? '⏸' : '▶';
            pauseBtn.title = this.isPlaying ? 'Пауза' : 'Продолжить';
        }
    }
}

// Инициализация карусели при загрузке страницы
let carousel;

document.addEventListener('DOMContentLoaded', function() {
    try {
        carousel = new Carousel();
        
        // Делаем функции доступными глобально для кнопок
        window.prevSlide = () => carousel.prevSlide();
        window.nextSlide = () => carousel.nextSlide();
        window.toggleAutoPlay = () => carousel.toggleAutoPlay();
        
        // Предзагрузка изображений для плавной работы
        preloadImages();
    } catch (error) {
        console.error('Ошибка инициализации карусели:', error);
    }
});

// Функция предзагрузки изображений
function preloadImages() {
    const images = [
        '/static/images/carousel/1st_september.jpg',
        '/static/images/carousel/championship.jpg',
        '/static/images/carousel/new_sport.jpg'
    ];
    
    images.forEach(src => {
        const img = new Image();
        img.src = src;
        img.onload = () => console.log('Изображение загружено:', src);
        img.onerror = () => console.error('Ошибка загрузки изображения:', src);
    });
}
</script>
</body>
</html>